<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: #1a1a1a;
            color: #e5e7eb;
        }
        .container {
            background-color: #2d2d2d;
            border: 1px solid #4b5563;
        }
        .section-title {
            color: #60a5fa;
        }
        input[type="radio"], input[type="checkbox"] {
            accent-color: #60a5fa;
        }
        textarea, button {
            background-color: #374151;
            color: #e5e7eb;
            border: 1px solid #4b5563;
        }
        button:hover {
            background-color: #2563eb;
        }
        #copy-btn:hover {
            background-color: #16a34a;
        }
    </style>
</head>
<body class="p-8">
    <div class="max-w-4xl mx-auto container p-6 rounded-lg shadow-md">
        <h1 class="text-2xl font-bold mb-6 text-center text-blue-400">Character Prompt Generator</h1>
        
        <form id="prompt-form">
            <!-- Character Info -->
            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2 section-title">Character Info</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <p class="font-medium">Gender</p>
                        <div id="gender-options" class="space-y-1"></div>
                    </div>
                    <div>
                        <p class="font-medium">Age</p>
                        <div id="age-options" class="space-y-1"></div>
                    </div>
                    <div>
                        <p class="font-medium">Hair Color</p>
                        <div id="hair-color-options" class="space-y-1"></div>
                    </div>
                    <div>
                        <p class="font-medium">Hair Style</p>
                        <div id="hair-style-options" class="space-y-1"></div>
                    </div>
                    <div>
                        <p class="font-medium">Eye Color</p>
                        <div id="eye-color-options" class="space-y-1"></div>
                    </div>
                    <div>
                        <p class="font-medium">Body Type</p>
                        <div id="body-type-options" class="space-y-1"></div>
                    </div>
                </div>
            </div>

            <!-- Outfit -->
            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2 section-title">Outfit</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                        <p class="font-medium">Casual</p>
                        <div id="casual-outfit-options" class="space-y-1"></div>
                    </div>
                    <div>
                        <p class="font-medium">Traditional</p>
                        <div id="traditional-outfit-options" class="space-y-1"></div>
                    </div>
                    <div>
                        <p class="font-medium">Fantasy</p>
                        <div id="fantasy-outfit-options" class="space-y-1"></div>
                    </div>
                </div>
            </div>

            <!-- Pose -->
            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2 section-title">Pose</h2>
                <div id="pose-options" class="space-y-1"></div>
            </div>

            <!-- Background -->
            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2 section-title">Background</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                        <p class="font-medium">Indoor</p>
                        <div id="indoor-bg-options" class="space-y-1"></div>
                    </div>
                    <div>
                        <p class="font-medium">Outdoor</p>
                        <div id="outdoor-bg-options" class="space-y-1"></div>
                    </div>
                    <div>
                        <p class="font-medium">Fantasy</p>
                        <div id="fantasy-bg-options" class="space-y-1"></div>
                    </div>
                </div>
            </div>

            <!-- Style -->
            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2 section-title">Style</h2>
                <div id="style-options" class="space-y-1"></div>
            </div>

            <!-- Quality -->
            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-2 section-title">Quality and Details</h2>
                <div id="quality-options" class="space-y-1"></div>
            </div>

            <button type="button" id="generate-btn" class="bg-blue-600 text-white px-4 py-2 rounded">Generate Prompt</button>
        </form>

        <div class="mt-6">
            <textarea id="prompt-output" class="w-full h-32 p-2 rounded" readonly></textarea>
            <button id="copy-btn" class="mt-2 bg-green-600 text-white px-4 py-2 rounded">Copy Prompt</button>
        </div>
    </div>

    <script>
        // Load keywords from JSON
        fetch('keywords.json')
            .then(response => response.json())
            .then(data => {
                populateOptions(data);
            })
            .catch(error => console.error('Error loading keywords:', error));

        function populateOptions(data) {
            // Gender (radio for single select)
            const genderContainer = document.getElementById('gender-options');
            data.character.gender.forEach(option => {
                genderContainer.innerHTML += `
                    <label class="flex items-center">
                        <input type="radio" name="gender" value="${option.toLowerCase()}" class="mr-2">
                        ${option}
                    </label>
                `;
            });

            // Age (radio for single select)
            const ageContainer = document.getElementById('age-options');
            data.character.age.forEach(option => {
                ageContainer.innerHTML += `
                    <label class="flex items-center">
                        <input type="radio" name="age" value="${option.toLowerCase()}" class="mr-2">
                        ${option}
                    </label>
                `;
            });

            // Hair Color (checkbox for multi)
            const hairColorContainer = document.getElementById('hair-color-options');
            data.character.hairColor.forEach(option => {
                hairColorContainer.innerHTML += `
                    <label class="flex items-center">
                        <input type="checkbox" name="hairColor" value="${option.toLowerCase()}" class="mr-2">
                        ${option}
                    </label>
                `;
            });

            // Hair Style (checkbox for multi)
            const hairStyleContainer = document.getElementById('hair-style-options');
            data.character.hairStyle.forEach(option => {
                hairStyleContainer.innerHTML += `
                    <label class="flex items-center">
                        <input type="checkbox" name="hairStyle" value="${option.toLowerCase()}" class="mr-2">
                        ${option}
                    </label>
                `;
            });

            // Eye Color (checkbox for multi)
            const eyeColorContainer = document.getElementById('eye-color-options');
            data.character.eyeColor.forEach(option => {
                eyeColorContainer.innerHTML += `
                    <label class="flex items-center">
                        <input type="checkbox" name="eyeColor" value="${option.toLowerCase()}" class="mr-2">
                        ${option}
                    </label>
                `;
            });

            // Body Type (checkbox for multi)
            const bodyTypeContainer = document.getElementById('body-type-options');
            data.character.bodyType.forEach(option => {
                bodyTypeContainer.innerHTML += `
                    <label class="flex items-center">
                        <input type="checkbox" name="bodyType" value="${option.toLowerCase()}" class="mr-2">
                        ${option}
                    </label>
                `;
            });

            // Outfits
            const casualOutfitContainer = document.getElementById('casual-outfit-options');
            data.outfit.casual.forEach(option => {
                casualOutfitContainer.innerHTML += `
                    <label class="flex items-center">
                        <input type="checkbox" name="outfit" value="${option.toLowerCase()}" class="mr-2">
                        ${option}
                    </label>
                `;
            });

            const traditionalOutfitContainer = document.getElementById('traditional-outfit-options');
            data.outfit.traditional.forEach(option => {
                traditionalOutfitContainer.innerHTML += `
                    <label class="flex items-center">
                        <input type="checkbox" name="outfit" value="${option.toLowerCase()}" class="mr-2">
                        ${option}
                    </label>
                `;
            });

            const fantasyOutfitContainer = document.getElementById('fantasy-outfit-options');
            data.outfit.fantasy.forEach(option => {
                fantasyOutfitContainer.innerHTML += `
                    <label class="flex items-center">
                        <input type="checkbox" name="outfit" value="${option.toLowerCase()}" class="mr-2">
                        ${option}
                    </label>
                `;
            });

            // Pose (checkbox for multi)
            const poseContainer = document.getElementById('pose-options');
            data.pose.forEach(option => {
                poseContainer.innerHTML += `
                    <label class="flex items-center">
                        <input type="checkbox" name="pose" value="${option.toLowerCase()}" class="mr-2">
                        ${option}
                    </label>
                `;
            });

            // Backgrounds
            const indoorBgContainer = document.getElementById('indoor-bg-options');
            data.background.indoor.forEach(option => {
                indoorBgContainer.innerHTML += `
                    <label class="flex items-center">
                        <input type="checkbox" name="background" value="${option.toLowerCase()}" class="mr-2">
                        ${option}
                    </label>
                `;
            });

            const outdoorBgContainer = document.getElementById('outdoor-bg-options');
            data.background.outdoor.forEach(option => {
                outdoorBgContainer.innerHTML += `
                    <label class="flex items-center">
                        <input type="checkbox" name="background" value="${option.toLowerCase()}" class="mr-2">
                        ${option}
                    </label>
                `;
            });

            const fantasyBgContainer = document.getElementById('fantasy-bg-options');
            data.background.fantasy.forEach(option => {
                fantasyBgContainer.innerHTML += `
                    <label class="flex items-center">
                        <input type="checkbox" name="background" value="${option.toLowerCase()}" class="mr-2">
                        ${option}
                    </label>
                `;
            });

            // Style (checkbox for multi)
            const styleContainer = document.getElementById('style-options');
            data.style.forEach(option => {
                styleContainer.innerHTML += `
                    <label class="flex items-center">
                        <input type="checkbox" name="style" value="${option.toLowerCase()}" class="mr-2">
                        ${option}
                    </label>
                `;
            });

            // Quality (checkbox for multi)
            const qualityContainer = document.getElementById('quality-options');
            data.quality.forEach(option => {
                qualityContainer.innerHTML += `
                    <label class="flex items-center">
                        <input type="checkbox" name="quality" value="${option.toLowerCase()}" class="mr-2">
                        ${option}
                    </label>
                `;
            });
        }

        // Generate Prompt
        document.getElementById('generate-btn').addEventListener('click', () => {
            let prompt = 'A';

            // Gender
            const gender = document.querySelector('input[name="gender"]:checked');
            if (gender) prompt += ` ${gender.value}`;

            // Age
            const age = document.querySelector('input[name="age"]:checked');
            if (age) prompt += ` ${age.value}`;

            // Character details
            const hairColors = Array.from(document.querySelectorAll('input[name="hairColor"]:checked')).map(cb => cb.value);
            if (hairColors.length > 0) prompt += ` with ${hairColors.join(' and ')} hair`;

            const hairStyles = Array.from(document.querySelectorAll('input[name="hairStyle"]:checked')).map(cb => cb.value);
            if (hairStyles.length > 0) prompt += ` ${hairStyles.join(' ')}`;

            const eyeColors = Array.from(document.querySelectorAll('input[name="eyeColor"]:checked')).map(cb => cb.value);
            if (eyeColors.length > 0) prompt += `, ${eyeColors.join(' and ')} eyes`;

            const bodyTypes = Array.from(document.querySelectorAll('input[name="bodyType"]:checked')).map(cb => cb.value);
            if (bodyTypes.length > 0) prompt += `, ${bodyTypes.join(' ')} body`;

            // Outfit
            const outfits = Array.from(document.querySelectorAll('input[name="outfit"]:checked')).map(cb => cb.value);
            if (outfits.length > 0) prompt += `, wearing ${outfits.join(' and ')}`;

            // Pose
            const poses = Array.from(document.querySelectorAll('input[name="pose"]:checked')).map(cb => cb.value);
            if (poses.length > 0) prompt += `, ${poses.join(', ')}`;

            // Background
            const backgrounds = Array.from(document.querySelectorAll('input[name="background"]:checked')).map(cb => cb.value);
            if (backgrounds.length > 0) prompt += ` in ${backgrounds.join(' and ')}`;

            // Style
            const styles = Array.from(document.querySelectorAll('input[name="style"]:checked')).map(cb => cb.value);
            if (styles.length > 0) prompt += `, ${styles.join(' ')} style`;

            // Quality
            const qualities = Array.from(document.querySelectorAll('input[name="quality"]:checked')).map(cb => cb.value);
            if (qualities.length > 0) prompt += `, ${qualities.join(', ')}`;

            // Output
            document.getElementById('prompt-output').value = prompt.trim() + '.';
        });

        // Copy Prompt
        document.getElementById('copy-btn').addEventListener('click', () => {
            const textarea = document.getElementById('prompt-output');
            textarea.select();
            document.execCommand('copy');
            alert('Prompt copied to clipboard!');
        });
    </script>
</body>
</html>